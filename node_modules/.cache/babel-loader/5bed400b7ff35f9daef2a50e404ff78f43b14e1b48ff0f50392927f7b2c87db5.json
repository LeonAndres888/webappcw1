{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_parent_component = _resolveComponent(\"parent-component\");\n  const _component_lesson_component = _resolveComponent(\"lesson-component\");\n  const _component_checkout_component = _resolveComponent(\"checkout-component\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_parent_component, {\n    sitename: $data.sitename,\n    cartItemCount: $options.cartItemCount,\n    onToggleCart: $options.toggleCart\n  }, null, 8, [\"sitename\", \"cartItemCount\", \"onToggleCart\"]), $data.showProduct ? (_openBlock(), _createBlock(_component_lesson_component, {\n    key: 0,\n    lessons: $options.sortedProducts,\n    onAddToCart: $options.addItemToCart\n  }, null, 8, [\"lessons\", \"onAddToCart\"])) : (_openBlock(), _createBlock(_component_checkout_component, {\n    key: 1,\n    cart: $data.cart,\n    onRemoveFromCart: $options.removeItemFromCart\n  }, null, 8, [\"cart\", \"onRemoveFromCart\"]))]);\n}","map":{"version":3,"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_parent_component","sitename","$data","cartItemCount","$options","onToggleCart","toggleCart","showProduct","_createBlock","_component_lesson_component","key","lessons","sortedProducts","onAddToCart","addItemToCart","_component_checkout_component","cart","onRemoveFromCart","removeItemFromCart"],"sources":["C:\\Users\\andre\\OneDrive\\Desktop\\CW2FinalFolder\\webappcw1\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <parent-component\n      :sitename=\"sitename\"\n      :cartItemCount=\"cartItemCount\"\n      @toggle-cart=\"toggleCart\"\n    />\n    <lesson-component\n      v-if=\"showProduct\"\n      :lessons=\"sortedProducts\"\n      @add-to-cart=\"addItemToCart\"\n    />\n    <checkout-component\n      v-else\n      :cart=\"cart\"\n      @remove-from-cart=\"removeItemFromCart\"\n    />\n  </div>\n</template>\n\n<script>\nimport ParentComponent from \"./components/ParentComponent.vue\";\nimport LessonComponent from \"./components/LessonComponent.vue\";\nimport CheckoutComponent from \"./components/CheckoutComponent.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    ParentComponent,\n    LessonComponent,\n    CheckoutComponent,\n  },\n  data() {\n    return {\n      sitename: \"👨‍🎓 STUDY SESSION STORE 👩‍🎓\",\n      showProduct: true,\n      products: [],\n      cart: [],\n      searchLesson: \"\",\n      sortAttribute: \"title\",\n      sortOrder: \"ascending\",\n    };\n  },\n  computed: {\n    cartItemCount() {\n      // Calculates the total count of items in the cart\n      return this.cart.reduce((total, item) => total + item.quantity, 0);\n    },\n    sortedProducts() {\n      // Returns the products sorted based on the selected attribute and order\n      let sorted = [...this.products].sort((a, b) => {\n        let comparison = 0;\n        if (a[this.sortAttribute] < b[this.sortAttribute]) {\n          comparison = -1;\n        } else if (a[this.sortAttribute] > b[this.sortAttribute]) {\n          comparison = 1;\n        }\n        return this.sortOrder === \"ascending\" ? comparison : comparison * -1;\n      });\n      return sorted;\n    },\n  },\n  methods: {\n    toggleCart() {\n      // Toggles between showing the product list and the cart\n      this.showProduct = !this.showProduct;\n    },\n    addItemToCart(product) {\n      // Adds an item to the cart or increases its quantity if it's already in the cart\n      let found = this.cart.find((item) => item.id === product.id);\n      if (found) {\n        found.quantity += 1;\n      } else {\n        this.cart.push({ ...product, quantity: 1 });\n      }\n    },\n    removeItemFromCart(item) {\n      // Removes an item from the cart\n      const index = this.cart.findIndex((cartItem) => cartItem.id === item.id);\n      if (index !== -1) {\n        this.cart.splice(index, 1);\n      }\n    },\n    fetchLessons() {\n      // Fetches lesson data from the server\n      fetch(\n        \"https://storefinal-env.eba-vfsgptpf.us-east-1.elasticbeanstalk.com/api/lessons\"\n      )\n        .then((response) => {\n          if (!response.ok) throw new Error(\"Network response was not ok\");\n          return response.json();\n        })\n        .then((data) => {\n          this.products = data;\n        })\n        .catch((error) => {\n          console.error(\"Error fetching lessons:\", error);\n        });\n    },\n  },\n  mounted() {\n    // Fetches lessons when the component mounts\n    this.fetchLessons();\n  },\n};\n</script>\n\n<style>\n/* Global styles */\n</style>\n"],"mappings":";;EACOA,EAAE,EAAC;AAAK;;;;;uBAAbC,mBAAA,CAgBM,OAhBNC,UAgBM,GAfJC,YAAA,CAIEC,2BAAA;IAHCC,QAAQ,EAAEC,KAAA,CAAAD,QAAQ;IAClBE,aAAa,EAAEC,QAAA,CAAAD,aAAa;IAC5BE,YAAW,EAAED,QAAA,CAAAE;8DAGRJ,KAAA,CAAAK,WAAW,I,cADnBC,YAAA,CAIEC,2BAAA;IAXNC,GAAA;IASOC,OAAO,EAAEP,QAAA,CAAAQ,cAAc;IACvBC,WAAW,EAAET,QAAA,CAAAU;4DAEhBN,YAAA,CAIEO,6BAAA;IAhBNL,GAAA;IAcOM,IAAI,EAAEd,KAAA,CAAAc,IAAI;IACVC,gBAAgB,EAAEb,QAAA,CAAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}